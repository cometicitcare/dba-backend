# Enhanced Environment Variables for Email and OTP Services
# Add these to your existing .env file

# ============================================================================
# SMTP Email Configuration (Existing - Enhanced)
# ============================================================================
SMTP_SERVER=mail.smtp2go.com
SMTP_PORT=2525
SMTP_USERNAME=your_smtp_username
SMTP_PASSWORD=your_smtp_password
SMTP_FROM_EMAIL=no-reply@dbagovlk.com
SMTP_FROM_NAME=DBA HRMS
SMTP_TIMEOUT=30
SMTP_RETRY_ATTEMPTS=3
SMTP_RETRY_DELAY=2

# ============================================================================
# OTP Configuration (Enhanced with new settings)
# ============================================================================
# OTP expiry time in minutes
OTP_EXPIRE_MINUTES=10

# Length of OTP code (6 digits recommended)
OTP_LENGTH=6

# Maximum attempts to validate OTP before it's invalidated
OTP_MAX_ATTEMPTS=3

# Maximum OTP requests per hour per user (prevents spam)
OTP_MAX_REQUESTS_PER_HOUR=5

# Maximum OTP requests per day per user
OTP_MAX_REQUESTS_PER_DAY=10

# ============================================================================
# Redis Configuration (NEW - for production OTP storage)
# ============================================================================
# Enable Redis for OTP storage (recommended for production)
REDIS_ENABLED=true

# Redis connection details
REDIS_HOST=localhost
REDIS_PORT=6379

# Redis password (leave empty if no password)
REDIS_PASSWORD=

# Redis database number (0-15, default is 0)
REDIS_DB=0

# ============================================================================
# Redis Setup Examples for Different Environments
# ============================================================================

# --- Development (Local Docker Redis) ---
# REDIS_ENABLED=true
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_PASSWORD=
# REDIS_DB=0

# --- Production (Railway Redis) ---
# REDIS_ENABLED=true
# REDIS_HOST=redis.railway.internal
# REDIS_PORT=6379
# REDIS_PASSWORD=your_railway_redis_password
# REDIS_DB=0

# --- Production (Redis Cloud) ---
# REDIS_ENABLED=true
# REDIS_HOST=redis-12345.c123.us-east-1-1.ec2.cloud.redislabs.com
# REDIS_PORT=12345
# REDIS_PASSWORD=your_redis_cloud_password
# REDIS_DB=0

# --- Fallback (In-Memory Storage - NOT recommended for production) ---
# REDIS_ENABLED=false
# (System will automatically use in-memory storage)

# ============================================================================
# Quick Setup Commands
# ============================================================================

# Docker Redis (Development):
# docker run -d --name redis-otp -p 6379:6379 redis:7-alpine

# Docker Redis with Password (Recommended):
# docker run -d --name redis-otp -p 6379:6379 redis:7-alpine redis-server --requirepass your_password

# Test Redis Connection:
# redis-cli -h localhost -p 6379 -a your_password ping
# Expected response: PONG
